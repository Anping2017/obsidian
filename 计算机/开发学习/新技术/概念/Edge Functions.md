## 1. **什么是 Edge Functions？**

**Edge Functions** 是一种运行在**边缘节点**（Edge Node）的函数计算：

- **靠近用户运行**：部署在 CDN 或离用户最近的服务器节点。
    
- **低延迟**：因为离用户近，所以响应速度比传统云函数快很多。
    
- **按需执行**：同样按调用量计费，事件触发执行。
    

> 可以理解为 “Serverless 的边缘版本”，专门用于对延迟敏感或全球分布的场景。

---

## 2. **核心特点**

1. **低延迟**：请求无需穿过核心数据中心，直接在边缘节点处理。
    
2. **分布式**：全球多个边缘节点，自动路由到最近节点。
    
3. **事件驱动**：通常处理 HTTP 请求、API 调用或 CDN 缓存逻辑。
    
4. **轻量快速**：适合小逻辑、数据处理或动态内容生成。
    

---

## 3. **与普通 Serverless 的区别**

|特性|Serverless 云函数|Edge Functions|
|---|---|---|
|部署位置|云数据中心|边缘节点（CDN）|
|延迟|中等|很低（ms级）|
|适合场景|后端 API、批量任务|动态网页渲染、全球 API、缓存控制|
|数据访问|通常访问数据库中心|通常访问缓存或轻量数据|

---

## 4. **典型应用场景**

- **动态网页生成**（Server-Side Rendering）
    
    - 例如 Next.js 的 Edge Functions，用于在请求时生成页面。
        
- **API 网关加速**
    
    - 全局用户访问 API 时，直接在最近节点响应。
        
- **A/B 测试 / 个性化内容**
    
    - 根据用户地域、设备、语言快速生成内容。
        
- **缓存控制与安全**
    
    - 对请求做预处理、认证、重写 URL 或防止恶意请求。


## Edge Functions 架构

```
[用户请求 / 前端客户端]
           │
           ▼
      触发事件（HTTP / API）
           │
           ▼
 ┌──────────────────────┐
 │   Edge Function      │  ← 距离用户最近的节点
 │ (处理请求/动态内容)  │
 └──────────────────────┘
           │
           ▼
   ┌─────────────┐   ┌─────────────┐
   │ CDN缓存/BaaS │   │ 云数据中心   │
   │ (快速返回)    │  │ (数据库/API) │
   └─────────────┘   └─────────────┘
           │
           ▼
       返回响应给用户

```