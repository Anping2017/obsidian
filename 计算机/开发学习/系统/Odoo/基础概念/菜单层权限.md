# 🗂 菜单项权限（MenuItem）

## 1) 用 groups 限制菜单可见性

XML 中直接在 `<menuitem>` 上加 `groups`：

```xml
<menuitem id="menu_my_root" name="My App" sequence="10"
          groups="your_module.group_my_user"/>

<menuitem id="menu_my_orders" name="Orders" parent="menu_my_root"
          action="action_my_orders"
          groups="your_module.group_my_user,your_module.group_my_manager"/>

```
- 只有属于这些组的用户能看到菜单。
    
- **注意**：不显示 ≠ 没权限；用户仍可能通过 URL/动作访问到对象 → 仍需 ACL/Record Rules 兜底。
    

## 2) 通过 ir.ui.menu 控制可见性

- 后台（开发者模式）里可直接编辑 **Settings ▸ Technical ▸ User Interface ▸ Menus**：
    
    - 设置/修改 `Groups`（等价于 XML 的 `groups`）。
        
    - 可以临时禁用（archive）菜单。
        
- **继承链**：父菜单不可见时，子菜单也不会显示。


## 3) 行为动作（Actions）也可设 groups（推荐）

在动作（如 `ir.actions.act_window`）上也设置 `groups_id`，双保险：
```xml
<record id="action_my_orders" model="ir.actions.act_window">
  <field name="name">Orders</field>
  <field name="res_model">my.device.order</field>
  <field name="view_mode">tree,form</field>
  <field name="groups_id" eval="[(6,0,[ref('your_module.group_my_user')])]"/>
</record>

```

- 即使有人绕开菜单直接访问动作，没有组也打不开。
    
