
在 Odoo 中，继承模型时可以通过**同名字段覆盖**来修改已有字段的定义，但不同属性的可修改性规则不同。

---

## ✅ 可以直接修改的属性

这些属性在继承时重新写即可，系统会覆盖原定义：

- `string`（显示名称）
    
- `required`（是否必填）
    
- `readonly`（是否只读）
    
- `help`（帮助信息）
    
- `default`（默认值）
    
- `ondelete`（删除联动行为）
    
- `domain`（选择范围，⚠️ 会完全覆盖，不能自动叠加）
    
- `tracking`（是否跟踪）
    
- `copy`（是否复制到新记录）
    

---

## ⚠️ 部分可改但有风险的属性

这些理论上能改，但要小心兼容性和数据完整性：

- `size`（字段长度，Char 类型）
    
    - 改大一般没问题，改小可能截断数据。
        
- `selection`（选择字段的选项）
    
    - 可以添加或修改显示标签，但 **删除已有选项** 可能导致历史数据无效。
        
- `index`（是否建索引）
    
    - 可以加，但频繁改可能影响数据库性能。
        
- `compute` / `store`（计算字段）
    
    - 可以覆盖，但会改变字段的计算逻辑，可能影响依赖字段。
        

---

## ❌ 不能修改的属性

这些属性一旦定义就固定，继承时不能直接改：

- **字段类型**（Char → Many2one、Integer → Float 等）
    
- **字段名**（只能覆盖，不能换名）
    
- `relation`（Many2one/One2many/Many2many 的目标模型）
    
- `relation_table`（Many2many 的中间表名）
    
- `relation_field`（One2many 的反向字段名）
    

👉 如果需要变更这些属性，只能：

1. 新建一个新字段，替代旧字段。
    
2. 在视图层隐藏旧字段。
    
3. 如果旧数据要迁移，则写迁移脚本。
    

---

## 💡 推荐替代做法

- **必填 / 只读 / domain 控制** → 更推荐在 **视图 XML (attrs/domain)** 里做，避免和其他模块冲突。
    
- **复杂逻辑** → 用 `@api.constrains` 或 `@api.onchange` 控制，而不是硬改字段属性。
    
- **类型变更** → 建新字段 + 数据迁移，而不是直接覆盖。
    

---

## ✅ 总结表

|属性|可修改性|备注|
|---|---|---|
|string, required, readonly, help, default|✅ 可直接改|最常见|
|domain|✅ 可改，但覆盖|不会自动合并|
|ondelete|✅ 可改|常用于控制删除行为|
|tracking, copy|✅ 可改|日志和复制行为|
|size|⚠️ 可改|可能截断数据|
|selection|⚠️ 可改|不要随意删除旧值|
|compute, store|⚠️ 可改|改逻辑可能破坏依赖|
|字段类型、relation、relation_table|❌ 不能改|必须新建字段|