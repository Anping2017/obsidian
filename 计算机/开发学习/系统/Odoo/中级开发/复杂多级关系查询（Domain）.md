# ğŸ”— Odoo å¤æ‚å¤šçº§å…³ç³»æŸ¥è¯¢ï¼ˆDomainï¼‰

---

## 1. æ ¸å¿ƒæ¦‚å¿µ

- **Domain** = æ¡ä»¶è¡¨è¾¾å¼ï¼Œç”¨äºç­›é€‰è®°å½•
    
- è¡¨è¾¾å¼æ ¼å¼ï¼š`[(å­—æ®µ, æ“ä½œç¬¦, å€¼)]`
    
- **é€»è¾‘è¿ç®—**ï¼š
    
    - ANDï¼ˆé»˜è®¤è¿æ¥å¤šä¸ªæ¡ä»¶ï¼‰
        
    - ORï¼š`['|', æ¡ä»¶1, æ¡ä»¶2]`
        
    - NOTï¼š`['!', æ¡ä»¶]`
        
- **å¤šçº§å…³ç³»æŸ¥è¯¢**ï¼š
    
    - æ”¯æŒè·¨æ¨¡å‹å­—æ®µï¼ˆMany2one/One2many/Many2manyï¼‰
        
    - ä½¿ç”¨å…³è”å­—æ®µé“¾å¼è®¿é—®ï¼š`field1.field2.field3`
        

---

## 2. åŸºæœ¬ Domain ç¤ºä¾‹

1. **ç®€å•æ¡ä»¶**
    

`[('state', '=', 'done')]`

- æŸ¥è¯¢ `state` ä¸º `'done'` çš„è®°å½•
    

2. **å¤šæ¡ä»¶ AND**
    

`[('state', '=', 'done'), ('amount_total', '>', 1000)]`

- æŸ¥è¯¢çŠ¶æ€ä¸º `'done'` ä¸”æ€»é‡‘é¢å¤§äº 1000 çš„è®°å½•
    

3. **OR æ¡ä»¶**
    

`['|', ('state', '=', 'draft'), ('state', '=', 'sent')]`

- æŸ¥è¯¢çŠ¶æ€ä¸º `'draft'` æˆ– `'sent'` çš„è®°å½•
    

4. **NOT æ¡ä»¶**
    

`['!', ('active', '=', True)]`

- æŸ¥è¯¢ `active` ä¸º `False` çš„è®°å½•
    

---

## 3. å¤šçº§å…³ç³»æŸ¥è¯¢

### 3.1 Many2one å…³è”æŸ¥è¯¢

- æŸ¥è¯¢è®¢å•ä¸­å®¢æˆ·æ‰€åœ¨åŸå¸‚ä¸º `'Auckland'` çš„é”€å”®è®¢å•ï¼š
    

`[('partner_id.city', '=', 'Auckland')]`

- `partner_id` â†’ å…³è” `res.partner` æ¨¡å‹
    
- `.city` â†’ `res.partner` çš„å­—æ®µ
    

### 3.2 One2many å…³è”æŸ¥è¯¢

- æŸ¥è¯¢å®¢æˆ·ä¸‹æœ‰è‡³å°‘ä¸€æ¡æœªä»˜å‘ç¥¨çš„å®¢æˆ·ï¼š
    

`[('invoice_ids.state', '=', 'open')]`

- `invoice_ids` â†’ å…³è” `account.move` æ¨¡å‹
    
- `.state` â†’ å‘ç¥¨çŠ¶æ€å­—æ®µ
    

### 3.3 Many2many å…³è”æŸ¥è¯¢

- æŸ¥è¯¢æ‹¥æœ‰ç‰¹å®šæ ‡ç­¾çš„å®¢æˆ·ï¼š
    

`[('category_id.name', '=', 'VIP')]`

- `category_id` â†’ Many2many æ ‡ç­¾å­—æ®µ
    
- `.name` â†’ æ ‡ç­¾åç§°
    

---

## 4. ç»„åˆå¤šçº§æ¡ä»¶

### ç¤ºä¾‹ï¼šæŸ¥è¯¢ç‰¹å®šå®¢æˆ·å’Œè®¢å•çŠ¶æ€

```
['&', 
  ('partner_id.city', '=', 'Auckland'),
  '|',
    ('state', '=', 'draft'),
    ('state', '=', 'sent')
]

```

- é€»è¾‘è§£æï¼š
    
    1. å®¢æˆ·åŸå¸‚ = `'Auckland'` AND
        
    2. (çŠ¶æ€ = `'draft'` OR `'sent'`)
        

---

## 5. åº”ç”¨åœºæ™¯

1. **é”€å”®**
    
    - æŸ¥è¯¢æŸåŸå¸‚å®¢æˆ·çš„æ‰€æœ‰é”€å”®è®¢å•
        
    - æŸ¥è¯¢ç‰¹å®šé”€å”®å‘˜è´Ÿè´£ä¸”é‡‘é¢å¤§äº 1000 çš„è®¢å•
        
2. **åº“å­˜**
    
    - æŸ¥è¯¢åº“å­˜ä¸­å±äºç‰¹å®šåˆ†ç±»ä¸”æ•°é‡å°äºå®‰å…¨åº“å­˜çš„äº§å“
        
3. **é¡¹ç›®ç®¡ç†**
    
    - æŸ¥è¯¢å®¢æˆ·é¡¹ç›®ä¸­çŠ¶æ€ä¸ºè¿›è¡Œä¸­ä¸”ä»»åŠ¡æœªå®Œæˆçš„è®°å½•
        
4. **è´¢åŠ¡**
    
    - æŸ¥è¯¢å®¢æˆ·æœªç»“ç®—å‘ç¥¨ï¼Œå¹¶ä¸”æ€»é‡‘é¢è¶…è¿‡é˜ˆå€¼
        

---

## 6. æ³¨æ„äº‹é¡¹

- å¤šçº§å…³ç³»æŸ¥è¯¢ä»…æ”¯æŒ **Many2one**ã€**One2many** å’Œ **Many2many**
    
- é“¾å¼å­—æ®µæŸ¥è¯¢ä»…å‘å‰è¿½è¸ªï¼ˆä»å½“å‰æ¨¡å‹åˆ°å…³è”æ¨¡å‹ï¼‰ï¼Œä¸èƒ½è·¨åå‘å­—æ®µï¼ˆOne2many åå‘ Many2one é“¾å¼æŸ¥è¯¢éœ€ä½¿ç”¨ `search()` æˆ– `filtered()`ï¼‰
    
- OR/AND/NOT é€»è¾‘ç»„åˆéœ€æ³¨æ„é¡ºåºï¼Œå¤æ‚é€»è¾‘å¯ç”¨æ‹¬å·å¯è§†åŒ–ç»„åˆ
    
- æ€§èƒ½ä¼˜åŒ–ï¼š
    
    - å°½é‡å‡å°‘ One2many å…³è”æŸ¥è¯¢
        
    - ä½¿ç”¨ç´¢å¼•å­—æ®µæé«˜æŸ¥è¯¢æ•ˆç‡